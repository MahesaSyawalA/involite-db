-- Employee's Presence table 

CREATE TABLE employeePresence (
    presenceID INT PRIMARY KEY AUTO_INCREMENT,
    userID INT NOT NULL,
    presenceDate DATE NOT NULL,
    clockIN TIME NOT NULL,
    clockOUT TIME,

    UNIQUE (userID, presenceDate),
    CHECK (clockOUT IS NULL OR clockOUT > clockIN)
);

-- ini yang sama relasi 
-- CREATE TABLE employeePresence (
--     presenceId INT PRIMARY KEY AUTO_INCREMENT,
--     userId INT NOT NULL,
--     presenceDate DATE NOT NULL,
--     clockIN TIME NOT NULL,
--     clockOUT TIME,

--     CONSTRAINT fk_employeePresence_user
--         FOREIGN KEY (userId)
--         REFERENCES users(userId)
--         ON UPDATE CASCADE
--         ON DELETE RESTRICT,

--     UNIQUE (userId, presenceDate),
--     CHECK (clockOUT IS NULL OR clockOUT > clockIN)
-- );

INSERT INTO employeePresence (userID, presenceDate, clockIN, clockOUT) VALUES
(1, '2025-01-01', '08:00:00', '17:00:00'),
(2, '2025-01-01', '08:05:00', '17:02:00'),
(3, '2025-01-01', '07:58:00', '16:55:00'),
(4, '2025-01-01', '08:10:00', '17:15:00'),
(5, '2025-01-01', '08:02:00', '17:00:00'),

(6, '2025-01-02', '08:00:00', '17:00:00'),
(7, '2025-01-02', '08:07:00', '17:10:00'),
(8, '2025-01-02', '07:55:00', '16:50:00'),
(9, '2025-01-02', '08:12:00', '17:20:00'),
(10,'2025-01-02', '08:01:00', '17:00:00'),

(1, '2025-01-03', '08:03:00', '17:05:00'),
(2, '2025-01-03', '08:00:00', '17:00:00'),
(3, '2025-01-03', '08:06:00', '17:10:00'),
(4, '2025-01-03', '08:15:00', '17:25:00'),
(5, '2025-01-03', '07:59:00', '16:58:00'),

(6, '2025-01-04', '08:02:00', '17:00:00'),
(7, '2025-01-04', '08:00:00', '17:00:00'),
(8, '2025-01-04', '08:05:00', '17:10:00'),
(9, '2025-01-04', '08:08:00', '17:12:00'),
(10,'2025-01-04', '07:57:00', '16:55:00'),

(1, '2025-01-05', '08:00:00', '17:00:00'),
(2, '2025-01-05', '08:04:00', '17:05:00'),
(3, '2025-01-05', '08:10:00', '17:15:00'),
(4, '2025-01-05', '08:20:00', '17:30:00'),
(5, '2025-01-05', '07:56:00', '16:50:00'),

(6, '2025-01-06', '08:01:00', '17:00:00'),
(7, '2025-01-06', '08:03:00', '17:05:00'),
(8, '2025-01-06', '08:00:00', '17:00:00'),
(9, '2025-01-06', '08:09:00', '17:18:00'),
(10,'2025-01-06', '08:02:00', '17:05:00'),

(1, '2025-01-07', '08:00:00', NULL),
(2, '2025-01-07', '08:05:00', NULL),
(3, '2025-01-07', '07:59:00', NULL),
(4, '2025-01-07', '08:12:00', NULL),
(5, '2025-01-07', '08:03:00', NULL),

(6, '2025-01-07', '08:00:00', NULL),
(7, '2025-01-07', '08:06:00', NULL),
(8, '2025-01-07', '08:02:00', NULL),
(9, '2025-01-07', '08:10:00', NULL),
(10,'2025-01-07', '07:58:00', NULL);
